//===-- YZGPUSubtarget.h - Define Subtarget for the YZGPU -------*- C++ -*-===//
//
// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.
// See https://llvm.org/LICENSE.txt for license information.
// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
//
//===----------------------------------------------------------------------===//
//
// This file declares the YZGPU specific subclass of TargetSubtargetInfo.
//
//===----------------------------------------------------------------------===//

#ifndef LLVM_LIB_TARGET_YZGPU_YZGPUSUBTARGET_H
#define LLVM_LIB_TARGET_YZGPU_YZGPUSUBTARGET_H

// #include "MCTargetDesc/YZGPUBaseInfo.h"
#include "YZGPUFrameLowering.h"
#include "YZGPUISelLowering.h"
#include "YZGPUInstrInfo.h"
#include "llvm/CodeGen/GlobalISel/CallLowering.h"
#include "llvm/CodeGen/GlobalISel/InstructionSelector.h"
#include "llvm/CodeGen/GlobalISel/LegalizerInfo.h"
#include "llvm/CodeGen/RegisterBankInfo.h"
#include "llvm/CodeGen/SelectionDAGTargetInfo.h"
#include "llvm/CodeGen/TargetSubtargetInfo.h"
#include "llvm/IR/DataLayout.h"
#include "llvm/Target/TargetMachine.h"

#define GET_SUBTARGETINFO_HEADER
#include "YZGPUGenSubtargetInfo.inc"

namespace llvm {
class StringRef;

class YZGPUSubtarget : public YZGPUGenSubtargetInfo {
private:
  YZGPUFrameLowering FrameLowering;
  YZGPUInstrInfo InstrInfo;
  YZGPURegisterInfo RegInfo;
  YZGPUTargetLowering TLInfo;
  SelectionDAGTargetInfo TSInfo;

public:
  // Initializes the data members to match that of the specified triple.
  YZGPUSubtarget(const Triple &TT, StringRef CPU, StringRef TuneCPU,
                 StringRef FS, const TargetMachine &TM);

  YZGPUSubtarget &initializeSubtargetDependencies(const Triple &TT,
                                                  StringRef GPU,
                                                  StringRef TuneCPU,
                                                  StringRef FS);
  // Parses features string setting specified subtarget options. The
  // definition of this function is auto-generated by tblgen.
  void ParseSubtargetFeatures(StringRef CPU, StringRef TuneCPU, StringRef FS);

  const YZGPUFrameLowering *getFrameLowering() const override {
    return &FrameLowering;
  }
  const YZGPUInstrInfo *getInstrInfo() const override { return &InstrInfo; }
  const YZGPURegisterInfo *getRegisterInfo() const override { return &RegInfo; }
  const YZGPUTargetLowering *getTargetLowering() const override {
    return &TLInfo;
  }
  const SelectionDAGTargetInfo *getSelectionDAGInfo() const override {
    return &TSInfo;
  }
  bool enableMachineScheduler() const override { return true; }
};
} // namespace llvm

#endif
